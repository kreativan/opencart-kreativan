{{ header }}
<div id="product-category" class="uk-section uk-section-small">
  <div class="uk-container">

    <div class="uk-margin-medium-bottom uk-text-center">

      <ul class="uk-breadcrumb uk-margin-remove">
        {% for breadcrumb in breadcrumbs %}
        <li><a href="{{ breadcrumb.href }}">{{ breadcrumb.text }}</a></li>
        {% endfor %}
      </ul>

      <h1 class="uk-margin-small">{{ heading_title }}</h1>
      {% if description %}
        <div class="uk-width-2-3@m uk-margin-auto">
          {{ description }}
        </div>
      {% endif %}

    </div>

    {{ content_top }}

    {% if column_left or column_right %}<div class="uk-grid" uk-grid>{% endif %}

    {% if column_left %}
    <div class="uk-width-medium@m">
      {{ column_left }}
    </div>
    {% endif %}

    {% if column_left or column_right %}<div class="uk-width-expand@m">{% endif %}

      <div id="main">

        <div class="uk-card uk-card-default uk-card-body uk-card-small uk-border-rounded uk-flex uk-flex-middle">
          <label class="uk-form-label">{{ text_sort }}</label>
          <select class="uk-select uk-form-small uk-form-width-small uk-margin-left" onchange="location = this.value;">
            {% for sorts in sorts %}
            {% if sorts.value == '%s-%s'|format(sort, order) %}
            <option value="{{ sorts.href }}" selected="selected">{{ sorts.text }}</option>
            {% else %}
            <option value="{{ sorts.href }}">{{ sorts.text }}</option>
            {% endif %}
            {% endfor %}
          </select>

          <label class="uk-form-label uk-margin-left">{{ text_limit }}</label>
          <select class="uk-select uk-form-small uk-form-width-small uk-margin-left" onchange="location = this.value;">
            {% for limits in limits %}
            {% if limits.value == limit %}
            <option value="{{ limits.href }}" selected="selected">{{ limits.text }}</option>
            {% else %}
            <option value="{{ limits.href }}">{{ limits.text }}</option>
            {% endif %}
            {% endfor %}
          </select>
        </div>

        <hr class="uk-margin-remove" />

        <!-- Products -->
        {% if products %}
        <div class="uk-grid uk-child-width-1-3@m uk-margin uk-grid-match" uk-grid>
          {% for product in products %}
          <div>
            <div class="uk-card uk-card-default uk-card-small uk-card-hover uk-border-rounded uk-flex uk-flex-column uk-flex-between">

              <div class="uk-card-media-top uk-padding-small uk-text-center">
                <a href="{{ product.href }}">
                  <img src="{{ product.thumb }}" alt="{{ product.name }}" title="{{ product.name }}" />
                </a>
              </div>

              <div class="uk-card-body">
                <h3 class="uk-h4 uk-link-heading uk-margin-remove">
                  <a href="{{ product.href }}">{{ product.name }}</a>
                </h3>

                <p class="uk-margin-small uk-text-small">{{ product.description }}</p>

                {% if product.rating %}
                <div class="rating">
                  {% for i in 1..5 %}
                  {% if product.rating < i %}
                    <span class="fa fa-stack"><i class="fa fa-star-o fa-stack-2x"></i></span>
                    <span uk-icon="icon: star"></span>
                  {% endif %}
                  {% endfor %}
                </div>
                {% endif %}

                <div class="uk-margin-top uk-flex uk-flex-between uk-flex-bottom">
                  <div class="price">
                    {% if product.price %}
                    {% if product.tax %}
                    <div class="price-tax uk-text-muted uk-text-small">{{ text_tax }} {{ product.tax }}</div>
                    {% endif %}
                    {% if not product.special %}
                    <span class="uk-text-bold">{{ product.price }}</span>
                    {% else %}
                    <div class="price-old uk-text-small uk-text-muted"><del>{{ product.price }}</del></div>
                    <div class="price-new uk-text-bold uk-h4 uk-margin-remove">{{ product.special }}</div>
                    {% endif %}
                    {% endif %}
                  </div>

                  <div>
                    <button
                      type="button"
                      class="uk-icon-button"
                      uk-icon="heart"
                      title="{{ button_wishlist }}" uk-tooltip
                      onclick="wishlistAdd({{ product.product_id }})">
                    </button>
                    <button
                      type="button"
                      class="uk-icon-button"
                      uk-icon="copy"
                      title="{{ button_compare }}" uk-tooltip
                      onclick="compareAdd({{ product.product_id }})">
                    </button>
                    <button
                      type="button"
                      class="uk-icon-button"
                      uk-icon="cart"
                      title="{{ button_cart }}" uk-tooltip
                      onclick="addToCart({{ product.product_id }}, {{ product.minimum }})">
                    </button>
                  </div>
                </div>
              </div>

            </div>
          </div>
          {% endfor %}
        </div>

        <div class="uk-flex uk-flex-between">
          <div>
            {{ pagination }}
          </div>
          <div class="uk-text-muted uk-text-small">
            {{ results }}
          </div>
        </div>

        {% endif %}

        {% if not categories and not products %}
        <p>{{ text_empty }}</p>
        {% endif %}

      </div>

    {% if column_left or column_right %}</div>{% endif %}

    {% if column_right %}
    <div class="uk-width-medium@m">
      {{ column_right }}
    </div>
    {% endif %}

    <!-- grid end -->
    {% if column_left or column_right %}</div>{% endif %}

  </div><!-- container end -->
</div>
{{ footer }}
